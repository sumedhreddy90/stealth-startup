{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sumedhreddy/Documents/stealth/stealth-startup/src/screens/ProfileScreen.tsx\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { Ionicons } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Constants from \"expo-constants\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Permissions from \"expo-permissions\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport I18nManager from \"react-native-web/dist/exports/I18nManager\";\nimport SafeAreaView from \"react-native-safe-area-view\";\nimport { Avatar, Divider, TouchableHighlight, Box, Text } from \"../components\";\nimport { AuthenticationContext } from \"../context\";\nimport { getImageUrl } from \"../helpers\";\nimport { useLocalization } from \"../localization\";\nimport NavigationNames from \"../navigations/NavigationNames\";\nimport { ProfileService } from \"../services\";\nimport { useTheme } from \"../theme\";\nexport var ProfileScreen = function ProfileScreen() {\n  var _useLocalization = useLocalization(),\n      getString = _useLocalization.getString;\n\n  var navigation = useNavigation();\n  var authContext = useContext(AuthenticationContext);\n\n  var _useTheme = useTheme(),\n      colors = _useTheme.colors,\n      sizes = _useTheme.sizes;\n\n  var _useState = useState(authContext.user),\n      _useState2 = _slicedToArray(_useState, 2),\n      userInfo = _useState2[0],\n      setUserInfo = _useState2[1];\n\n  useEffect(function () {\n    if (authContext.isLoggedIn) {\n      ProfileService.getUserInfo().then(function (user) {\n        setUserInfo(user);\n      });\n    }\n  }, [authContext.isLoggedIn]);\n\n  var onPressMenuItemClick = function onPressMenuItemClick(item) {\n    if (item.navigateToScreen) {\n      navigation.navigate(item.navigateToScreen);\n    }\n  };\n\n  var onPressChangeImage = function onPressChangeImage() {\n    var _Constants$platform;\n\n    var _await$Permissions$as, status, result, imageName;\n\n    return _regeneratorRuntime.async(function onPressChangeImage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!((_Constants$platform = Constants.platform) != null && _Constants$platform.ios)) {\n              _context.next = 8;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n          case 3:\n            _await$Permissions$as = _context.sent;\n            status = _await$Permissions$as.status;\n\n            if (!(status !== \"granted\")) {\n              _context.next = 8;\n              break;\n            }\n\n            Alert.alert(getString(\"Permissions\"), getString(\"PermissionDenied\"), [{\n              text: getString(\"GoToSettings\"),\n              onPress: function onPress() {\n                return Linking.openURL(\"app-settings:\");\n              }\n            }, {\n              text: getString(\"Cancel\")\n            }], {\n              cancelable: false\n            });\n            return _context.abrupt(\"return\");\n\n          case 8:\n            _context.prev = 8;\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspect: [4, 4],\n              quality: 1\n            }));\n\n          case 11:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              _context.next = 14;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 14:\n            _context.next = 16;\n            return _regeneratorRuntime.awrap(ProfileService.updateProfileImage(result.uri));\n\n          case 16:\n            imageName = _context.sent;\n\n            if (authContext.user) {\n              authContext.user.imageName = imageName;\n            }\n\n            setUserInfo(_objectSpread(_objectSpread({}, userInfo), {}, {\n              imageName: imageName\n            }));\n            _context.next = 24;\n            break;\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context[\"catch\"](8);\n            Alert.alert(_context.t0.message);\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[8, 21]], Promise);\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: styles.flex1,\n    forceInset: {\n      top: \"always\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: styles.flex1,\n    contentContainerStyle: styles.scrollContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.imageContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, React.createElement(Avatar, {\n    style: [styles.avatarContainerStyle, {\n      borderColor: colors.primaryColor\n    }],\n    imageStyle: styles.avatarImageStyle,\n    source: {\n      uri: getImageUrl(userInfo.imageName)\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableOpacity, {\n    style: [styles.changeImageButton, {\n      borderRadius: sizes.boxRadius\n    }],\n    onPress: onPressChangeImage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, React.createElement(Box, {\n    style: styles.changeImageButtonBox,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, React.createElement(Ionicons, {\n    name: \"md-refresh\",\n    size: 18,\n    color: colors.primaryColor,\n    style: {\n      marginTop: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  })))), React.createElement(Text, {\n    style: [styles.nameText, {\n      color: colors.textColor\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, userInfo.firstName + \" \" + userInfo.lastName), React.createElement(Text, {\n    style: [styles.daysText, {\n      color: colors.textColor\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, userInfo.username), React.createElement(View, {\n    style: {\n      marginTop: 24\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, [{\n    title: getString(\"favorite_news\"),\n    subtitle: getString(\"favorited_news\"),\n    iconName: \"ios-heart\",\n    iconColor: \"#EB5757\",\n    navigateToScreen: NavigationNames.FavoriteTab\n  }, {\n    title: getString(\"notifications\"),\n    subtitle: getString(\"show_all_notifications\"),\n    iconName: \"md-notifications\",\n    iconColor: \"#F2994A\"\n  }, {\n    title: getString(\"menu_1\"),\n    subtitle: getString(\"short_desc\"),\n    iconName: \"ios-egg\",\n    iconColor: colors.primaryColor\n  }, {\n    title: getString(\"menu_2\"),\n    subtitle: getString(\"short_desc\"),\n    iconName: \"ios-egg\",\n    iconColor: \"#2D9CDB\"\n  }, {\n    title: getString(\"menu_3\"),\n    subtitle: getString(\"short_desc\"),\n    iconName: \"ios-egg\",\n    iconColor: \"#27AE60\"\n  }].map(function (item, index) {\n    return React.createElement(TouchableHighlight, {\n      key: index,\n      onPress: function onPress() {\n        return onPressMenuItemClick(item);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 15\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: styles.menuRowContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }, React.createElement(View, {\n      style: styles.iconContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, React.createElement(Ionicons, {\n      name: item.iconName,\n      size: 26,\n      color: item.iconColor,\n      style: {\n        alignSelf: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 23\n      }\n    })), React.createElement(View, {\n      style: styles.menuRowsContent,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: styles.menuRowTitle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 23\n      }\n    }, item.title), React.createElement(Text, {\n      style: styles.menuRowSubtitle,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 23\n      }\n    }, item.subtitle)), React.createElement(Ionicons, {\n      name: \"ios-arrow-forward\",\n      size: 24,\n      color: colors.primaryColor,\n      style: {\n        alignSelf: \"center\",\n        transform: [{\n          scaleX: I18nManager.isRTL ? -1 : 1\n        }]\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    })), React.createElement(Divider, {\n      style: styles.divider,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 19\n      }\n    })));\n  }))));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  flex1: {\n    flex: 1\n  },\n  scrollContainer: {\n    paddingVertical: 16\n  },\n  imageContent: {\n    alignSelf: \"center\",\n    marginTop: 36\n  },\n  avatarContainerStyle: {\n    borderRadius: 36,\n    borderWidth: 0.75,\n    overflow: \"hidden\"\n  },\n  avatarImageStyle: {\n    width: 130,\n    height: 130\n  },\n  changeImageButton: {\n    width: 28,\n    height: 28,\n    position: \"absolute\",\n    bottom: -4,\n    right: -4,\n    zIndex: 10,\n    backgroundColor: \"white\"\n  },\n  changeImageButtonBox: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  nameText: {\n    alignSelf: \"center\",\n    fontSize: 22,\n    fontFamily: \"default-medium\",\n    marginTop: 16\n  },\n  daysText: {\n    alignSelf: \"center\",\n    fontSize: 14,\n    marginTop: 6\n  },\n  menuRowContent: {\n    flexDirection: \"row\",\n    paddingStart: 12,\n    paddingEnd: 16,\n    paddingVertical: 16\n  },\n  iconContent: {\n    width: 32\n  },\n  menuRowsContent: {\n    paddingHorizontal: 8,\n    flex: 1\n  },\n  menuRowTitle: {\n    fontSize: 17,\n    textAlign: \"justify\"\n  },\n  menuRowSubtitle: {\n    fontSize: 12,\n    marginTop: 4,\n    textAlign: \"justify\"\n  },\n  divider: {\n    marginStart: 46\n  }\n});","map":{"version":3,"sources":["/Users/sumedhreddy/Documents/stealth/stealth-startup/src/screens/ProfileScreen.tsx"],"names":["Ionicons","useNavigation","Constants","ImagePicker","Permissions","React","useContext","useState","useEffect","SafeAreaView","Avatar","Divider","TouchableHighlight","Box","Text","AuthenticationContext","getImageUrl","useLocalization","NavigationNames","ProfileService","useTheme","ProfileScreen","getString","navigation","authContext","colors","sizes","user","userInfo","setUserInfo","isLoggedIn","getUserInfo","then","onPressMenuItemClick","item","navigateToScreen","navigate","onPressChangeImage","platform","ios","askAsync","CAMERA_ROLL","status","Alert","alert","text","onPress","Linking","openURL","cancelable","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","result","cancelled","updateProfileImage","uri","imageName","message","styles","flex1","top","scrollContainer","imageContent","avatarContainerStyle","borderColor","primaryColor","avatarImageStyle","changeImageButton","borderRadius","boxRadius","changeImageButtonBox","marginTop","nameText","color","textColor","firstName","lastName","daysText","username","title","subtitle","iconName","iconColor","FavoriteTab","map","index","menuRowContent","iconContent","alignSelf","menuRowsContent","menuRowTitle","menuRowSubtitle","transform","scaleX","I18nManager","isRTL","divider","StyleSheet","create","container","flex","paddingVertical","borderWidth","overflow","width","height","position","bottom","right","zIndex","backgroundColor","alignItems","justifyContent","fontSize","fontFamily","flexDirection","paddingStart","paddingEnd","paddingHorizontal","textAlign","marginStart"],"mappings":"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","sourcesContent":["import { Ionicons } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport Constants from \"expo-constants\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport * as Permissions from \"expo-permissions\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport {\n  View,\n  ScrollView,\n  StyleSheet,\n  TouchableOpacity,\n  Linking,\n  Alert,\n  I18nManager,\n} from \"react-native\";\nimport SafeAreaView from \"react-native-safe-area-view\";\n\nimport { Avatar, Divider, TouchableHighlight, Box, Text } from \"../components\";\nimport { AuthenticationContext } from \"../context\";\nimport { getImageUrl } from \"../helpers\";\nimport { useLocalization } from \"../localization\";\nimport { UserModel } from \"../models\";\nimport NavigationNames from \"../navigations/NavigationNames\";\nimport { AuthService, ProfileService } from \"../services\";\nimport { useTheme } from \"../theme\";\n\nexport const ProfileScreen = () => {\n  const { getString } = useLocalization();\n  const navigation = useNavigation();\n  const authContext = useContext(AuthenticationContext);\n  const { colors, sizes } = useTheme();\n  const [userInfo, setUserInfo] = useState<UserModel>(authContext.user!!);\n\n  useEffect(() => {\n    if (authContext.isLoggedIn) {\n      ProfileService.getUserInfo().then((user) => {\n        setUserInfo(user);\n      });\n    }\n  }, [authContext.isLoggedIn]);\n\n  const onPressMenuItemClick = (item: any) => {\n    if (item.navigateToScreen) {\n      navigation.navigate(item.navigateToScreen);\n    }\n  };\n\n  const onPressChangeImage = async () => {\n    if (Constants.platform?.ios) {\n      const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\n      if (status !== \"granted\") {\n        Alert.alert(\n          getString(\"Permissions\"),\n          getString(\"PermissionDenied\"),\n          [\n            {\n              text: getString(\"GoToSettings\"),\n              onPress: () => Linking.openURL(\"app-settings:\"),\n            },\n            { text: getString(\"Cancel\") },\n          ],\n          { cancelable: false }\n        );\n\n        return;\n      }\n    }\n    try {\n      const result: any = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        aspect: [4, 4],\n        quality: 1,\n      });\n      if (result.cancelled) {\n        return;\n      }\n      const imageName = await ProfileService.updateProfileImage(result.uri);\n      if (authContext.user) {\n        authContext.user!!.imageName = imageName;\n      }\n      setUserInfo({\n        ...userInfo,\n        imageName,\n      });\n    } catch (err) {\n      Alert.alert(err.message);\n    }\n  };\n\n  return (\n    <SafeAreaView style={styles.flex1} forceInset={{ top: \"always\" }}>\n      <ScrollView\n        style={styles.flex1}\n        contentContainerStyle={styles.scrollContainer}\n      >\n        <View style={styles.imageContent}>\n          <Avatar\n            style={[\n              styles.avatarContainerStyle,\n              {\n                borderColor: colors.primaryColor,\n              },\n            ]}\n            imageStyle={styles.avatarImageStyle}\n            source={{\n              uri: getImageUrl(userInfo.imageName),\n            }}\n          />\n          <TouchableOpacity\n            style={[\n              styles.changeImageButton,\n              {\n                borderRadius: sizes.boxRadius,\n              },\n            ]}\n            onPress={onPressChangeImage}\n          >\n            <Box style={styles.changeImageButtonBox}>\n              <Ionicons\n                name=\"md-refresh\"\n                size={18}\n                color={colors.primaryColor}\n                style={{ marginTop: 2 }}\n              />\n            </Box>\n          </TouchableOpacity>\n        </View>\n        <Text\n          style={[\n            styles.nameText,\n            {\n              color: colors.textColor,\n            },\n          ]}\n        >{`${userInfo.firstName} ${userInfo.lastName}`}</Text>\n        <Text\n          style={[\n            styles.daysText,\n            {\n              color: colors.textColor,\n            },\n          ]}\n        >\n          {userInfo.username}\n        </Text>\n        <View style={{ marginTop: 24 }}>\n          {[\n            {\n              title: getString(\"favorite_news\"),\n              subtitle: getString(\"favorited_news\"),\n              iconName: \"ios-heart\",\n              iconColor: \"#EB5757\",\n              navigateToScreen: NavigationNames.FavoriteTab,\n            },\n            {\n              title: getString(\"notifications\"),\n              subtitle: getString(\"show_all_notifications\"),\n              iconName: \"md-notifications\",\n              iconColor: \"#F2994A\",\n            },\n            {\n              title: getString(\"menu_1\"),\n              subtitle: getString(\"short_desc\"),\n              iconName: \"ios-egg\",\n              iconColor: colors.primaryColor,\n            },\n            {\n              title: getString(\"menu_2\"),\n              subtitle: getString(\"short_desc\"),\n              iconName: \"ios-egg\",\n              iconColor: \"#2D9CDB\",\n            },\n            {\n              title: getString(\"menu_3\"),\n              subtitle: getString(\"short_desc\"),\n              iconName: \"ios-egg\",\n              iconColor: \"#27AE60\",\n            },\n          ].map((item, index) => {\n            return (\n              <TouchableHighlight\n                key={index}\n                onPress={() => onPressMenuItemClick(item)}\n              >\n                <View>\n                  <View style={styles.menuRowContent}>\n                    <View style={styles.iconContent}>\n                      <Ionicons\n                        name={item.iconName}\n                        size={26}\n                        color={item.iconColor}\n                        style={{ alignSelf: \"center\" }}\n                      />\n                    </View>\n                    <View style={styles.menuRowsContent}>\n                      <Text style={styles.menuRowTitle}>{item.title}</Text>\n                      <Text style={styles.menuRowSubtitle}>\n                        {item.subtitle}\n                      </Text>\n                    </View>\n                    <Ionicons\n                      name=\"ios-arrow-forward\"\n                      size={24}\n                      color={colors.primaryColor}\n                      style={{\n                        alignSelf: \"center\",\n                        transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }],\n                      }}\n                    />\n                  </View>\n                  <Divider style={styles.divider} />\n                </View>\n              </TouchableHighlight>\n            );\n          })}\n        </View>\n      </ScrollView>\n    </SafeAreaView>\n  );\n};\nconst styles = StyleSheet.create({\n  container: { flex: 1 },\n  flex1: { flex: 1 },\n  scrollContainer: { paddingVertical: 16 },\n  imageContent: { alignSelf: \"center\", marginTop: 36 },\n  avatarContainerStyle: {\n    borderRadius: 36,\n    borderWidth: 0.75,\n    overflow: \"hidden\",\n  },\n  avatarImageStyle: {\n    width: 130,\n    height: 130,\n  },\n  changeImageButton: {\n    width: 28,\n    height: 28,\n    position: \"absolute\",\n    bottom: -4,\n    right: -4,\n    zIndex: 10,\n    backgroundColor: \"white\",\n  },\n  changeImageButtonBox: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  nameText: {\n    alignSelf: \"center\",\n    fontSize: 22,\n    fontFamily: \"default-medium\",\n    marginTop: 16,\n  },\n  daysText: {\n    alignSelf: \"center\",\n    fontSize: 14,\n    marginTop: 6,\n  },\n  menuRowContent: {\n    flexDirection: \"row\",\n    paddingStart: 12,\n    paddingEnd: 16,\n    paddingVertical: 16,\n  },\n  iconContent: {\n    width: 32,\n  },\n  menuRowsContent: { paddingHorizontal: 8, flex: 1 },\n  menuRowTitle: {\n    fontSize: 17,\n    textAlign: \"justify\",\n  },\n  menuRowSubtitle: {\n    fontSize: 12,\n    marginTop: 4,\n    textAlign: \"justify\",\n  },\n  divider: { marginStart: 46 },\n});\n"]},"metadata":{},"sourceType":"module"}